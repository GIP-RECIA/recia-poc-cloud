{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Accueil \u00b6 Expertise et mise en oeuvre de d\u00e9monstrateurs pour le stockage et l'\u00e9dition collaborative de documents. Introduction \u00b6 Le GIP RECIA et ses partenaires souhaitent enrichir l'offre de services de l'ENT NetO'centre/Touraine-eschool avec le souci d'offrir aux populations concern\u00e9es des services fiables, fonctionnellement riches, ergonomiques, bien int\u00e9gr\u00e9s et adapt\u00e9s \u00e0 leurs pratiques. Un des nouveaux services identifi\u00e9 concerne le stockage centralis\u00e9 \u00ab dans le nuage \u00bb de documents, le partage de ces documents, l'acc\u00e8s \u00e0 ces documents sous diff\u00e9rentes formes (interface web, application mobile). Il est souhait\u00e9 de l'associer \u00e0 un outil d'\u00e9dition collaborative en ligne pour les documents bureautique : textes, tableaux, pr\u00e9sentations, ... Il s'agit de mettre en oeuvre des d\u00e9monstrateurs regroupant d'une part une solution de stockage de document en mode \u00ab cloud \u00bb et d'autre part une solution d'\u00e9dition, possiblement collaborative, de documents bureautiques stock\u00e9s sur cette solution. Solutions \u00e9valu\u00e9es \u00b6 2 Solutions de stockage sont compar\u00e9es: nextcloud , fork de owncloud d\u00e9velopp\u00e9 en php Seafile , d\u00e9velopp\u00e9 en python 2 Solutions d'\u00e9dition collaborative en ligne sont compar\u00e9es, dans leur version open source et sous licence libre: Collabora Online Development Edition OnlyOffice Community Edition Note Les solutions d'\u00e9dition n'ont pas d'adh\u00e9rence avec le SI, et peuvent \u00eatre install\u00e9es sans difficult\u00e9s particuli\u00e8re sur Nextcloud et sur Seafile. Le choix de la solution d'\u00e9dition collaborative est donc beaucoup moins impactant en terme d'int\u00e9gration, il est tr\u00e8s simple de passer d'une solution \u00e0 l'autre. A l'inverse, le choix d'une solution de stockage doit se faire en toute connaissance de cause pour faciliter l'int\u00e9gration de l'environnement de l'ENT (CAS, LDAP, Theming en fonction du domain d'acc\u00e8s, etc ...), et il serait difficile de remplacer cette solution par la suite. Installation des environnements test \u00b6 Les environnements de tests peuvent \u00eatre install\u00e9s via Docker en suivante la documentation associ\u00e9e , et les fichiers README pr\u00e9sents dans le repository github. A propos de cette documentation \u00b6 Cette documentation est construite avec mkdocs \u00e0 partir de fichiers Markdown pr\u00e9sents dans le dossier mkdocs du repository le r\u00e9pository Github .","title":"Accueil"},{"location":"#accueil","text":"Expertise et mise en oeuvre de d\u00e9monstrateurs pour le stockage et l'\u00e9dition collaborative de documents.","title":"Accueil"},{"location":"#introduction","text":"Le GIP RECIA et ses partenaires souhaitent enrichir l'offre de services de l'ENT NetO'centre/Touraine-eschool avec le souci d'offrir aux populations concern\u00e9es des services fiables, fonctionnellement riches, ergonomiques, bien int\u00e9gr\u00e9s et adapt\u00e9s \u00e0 leurs pratiques. Un des nouveaux services identifi\u00e9 concerne le stockage centralis\u00e9 \u00ab dans le nuage \u00bb de documents, le partage de ces documents, l'acc\u00e8s \u00e0 ces documents sous diff\u00e9rentes formes (interface web, application mobile). Il est souhait\u00e9 de l'associer \u00e0 un outil d'\u00e9dition collaborative en ligne pour les documents bureautique : textes, tableaux, pr\u00e9sentations, ... Il s'agit de mettre en oeuvre des d\u00e9monstrateurs regroupant d'une part une solution de stockage de document en mode \u00ab cloud \u00bb et d'autre part une solution d'\u00e9dition, possiblement collaborative, de documents bureautiques stock\u00e9s sur cette solution.","title":"Introduction"},{"location":"#solutions-evaluees","text":"2 Solutions de stockage sont compar\u00e9es: nextcloud , fork de owncloud d\u00e9velopp\u00e9 en php Seafile , d\u00e9velopp\u00e9 en python 2 Solutions d'\u00e9dition collaborative en ligne sont compar\u00e9es, dans leur version open source et sous licence libre: Collabora Online Development Edition OnlyOffice Community Edition Note Les solutions d'\u00e9dition n'ont pas d'adh\u00e9rence avec le SI, et peuvent \u00eatre install\u00e9es sans difficult\u00e9s particuli\u00e8re sur Nextcloud et sur Seafile. Le choix de la solution d'\u00e9dition collaborative est donc beaucoup moins impactant en terme d'int\u00e9gration, il est tr\u00e8s simple de passer d'une solution \u00e0 l'autre. A l'inverse, le choix d'une solution de stockage doit se faire en toute connaissance de cause pour faciliter l'int\u00e9gration de l'environnement de l'ENT (CAS, LDAP, Theming en fonction du domain d'acc\u00e8s, etc ...), et il serait difficile de remplacer cette solution par la suite.","title":"Solutions \u00e9valu\u00e9es"},{"location":"#installation-des-environnements-test","text":"Les environnements de tests peuvent \u00eatre install\u00e9s via Docker en suivante la documentation associ\u00e9e , et les fichiers README pr\u00e9sents dans le repository github.","title":"Installation des environnements test"},{"location":"#a-propos-de-cette-documentation","text":"Cette documentation est construite avec mkdocs \u00e0 partir de fichiers Markdown pr\u00e9sents dans le dossier mkdocs du repository le r\u00e9pository Github .","title":"A propos de cette documentation"},{"location":"antivirus/","text":"Antivirus \u00b6 NextCloud \u00b6 NextCloud supporte officiellement une int\u00e9gration de ClamAV, permettant de scanner tous les versements de fichier avant enregistrement. L'int\u00e9gration de ClamAV est simple et document\u00e9e . L'antivirus ClamAV est configur\u00e9 et actif sur les environnements Nextcloud de d\u00e9monstration. Seafile \u00b6 L'\u00e9dition Pro propose une int\u00e9gration d'Antivirus , mais cette fonctionnalit\u00e9 n'est pas disponible dans l'\u00e9dition gratuite. De plus, Seafile explose les fichiers stock\u00e9s en fragments (chunk files) ce qui rends l'int\u00e9gration d'un Antivirus externe d\u00e9licate.","title":"Antivirus"},{"location":"antivirus/#antivirus","text":"","title":"Antivirus"},{"location":"antivirus/#nextcloud","text":"NextCloud supporte officiellement une int\u00e9gration de ClamAV, permettant de scanner tous les versements de fichier avant enregistrement. L'int\u00e9gration de ClamAV est simple et document\u00e9e . L'antivirus ClamAV est configur\u00e9 et actif sur les environnements Nextcloud de d\u00e9monstration.","title":"NextCloud"},{"location":"antivirus/#seafile","text":"L'\u00e9dition Pro propose une int\u00e9gration d'Antivirus , mais cette fonctionnalit\u00e9 n'est pas disponible dans l'\u00e9dition gratuite. De plus, Seafile explose les fichiers stock\u00e9s en fragments (chunk files) ce qui rends l'int\u00e9gration d'un Antivirus externe d\u00e9licate.","title":"Seafile"},{"location":"api/","text":"API \u00b6 NextCloud \u00b6 NextCloud propose une API REST XML/JSON qui impl\u00e9mente Open Collaboration Services v2.0 . Cette sp\u00e9cification a pour objectif d'\u00eatre impl\u00e9ment\u00e9e par les consomateurs et les fournissuers de stockage/partage de fichiers. Cette API est d\u00e9couvrable et constitue une v\u00e9ritable API RESTful. Dans le cadre de d\u00e9veloppement d'extensions, il est possible d'enregistrer de nouveaux endpoint \u00e0 cette API. L'API est document\u00e9e . Seafile \u00b6 Seafile propose une API REST JSON document\u00e9e , tr\u00e8s simple d'utilisation.","title":"API"},{"location":"api/#api","text":"","title":"API"},{"location":"api/#nextcloud","text":"NextCloud propose une API REST XML/JSON qui impl\u00e9mente Open Collaboration Services v2.0 . Cette sp\u00e9cification a pour objectif d'\u00eatre impl\u00e9ment\u00e9e par les consomateurs et les fournissuers de stockage/partage de fichiers. Cette API est d\u00e9couvrable et constitue une v\u00e9ritable API RESTful. Dans le cadre de d\u00e9veloppement d'extensions, il est possible d'enregistrer de nouveaux endpoint \u00e0 cette API. L'API est document\u00e9e .","title":"NextCloud"},{"location":"api/#seafile","text":"Seafile propose une API REST JSON document\u00e9e , tr\u00e8s simple d'utilisation.","title":"Seafile"},{"location":"applications-natives/","text":"Applications \u00b6 NextCloud \u00b6 NextCloud fourni des clients pour Windows, Mac et Linux, ces clients permettent de synchroniser les fichiers sur un disque client. Des clients natifs sont \u00e9galement disponibles pour Android et IOS, t\u00e9l\u00e9chargeable sur les Stores officiels. Seafile \u00b6 Seafile fourni des clients de synchronisation pour Windows, Mac et Linux, ces clients permettent de synchroniser les fichiers sur un disque client (Desktop Syncing Clients). Des clients natifs sont \u00e9galement disponibles pour Android et IOS, t\u00e9l\u00e9chargeable sur les Stores officiels. Il existe \u00e9galement d'autres clients (Desktop Drive Clients) qui permettent d'acc\u00e9der nativement sous Windows, Max et Linux au dossier distant, sans synchronisation, sous forme de lecteur r\u00e9seau. Clients WebDav \u00b6 NextCloud et Seafile supportent tous les deux le protocole WebDav. Il est donc possible d'utiliser avec les deux solutions les m\u00eames clients, \u00e0 condition qu'ils soient compatibles WebDav. OnlyOffice / Collabora \u00b6 Il existe plusieurs applications capables de lire et d'\u00e9diter les documents, et rien n'emp\u00eache \u00e0 l'utilisateur d'installer une application native qui ne correponds pas \u00e0 OnlyOffice ni \u00e0 LibreOffice (Microsoft Office par exemple).","title":"Applications natives"},{"location":"applications-natives/#applications","text":"","title":"Applications"},{"location":"applications-natives/#nextcloud","text":"NextCloud fourni des clients pour Windows, Mac et Linux, ces clients permettent de synchroniser les fichiers sur un disque client. Des clients natifs sont \u00e9galement disponibles pour Android et IOS, t\u00e9l\u00e9chargeable sur les Stores officiels.","title":"NextCloud"},{"location":"applications-natives/#seafile","text":"Seafile fourni des clients de synchronisation pour Windows, Mac et Linux, ces clients permettent de synchroniser les fichiers sur un disque client (Desktop Syncing Clients). Des clients natifs sont \u00e9galement disponibles pour Android et IOS, t\u00e9l\u00e9chargeable sur les Stores officiels. Il existe \u00e9galement d'autres clients (Desktop Drive Clients) qui permettent d'acc\u00e9der nativement sous Windows, Max et Linux au dossier distant, sans synchronisation, sous forme de lecteur r\u00e9seau.","title":"Seafile"},{"location":"applications-natives/#clients-webdav","text":"NextCloud et Seafile supportent tous les deux le protocole WebDav. Il est donc possible d'utiliser avec les deux solutions les m\u00eames clients, \u00e0 condition qu'ils soient compatibles WebDav.","title":"Clients WebDav"},{"location":"applications-natives/#onlyoffice-collabora","text":"Il existe plusieurs applications capables de lire et d'\u00e9diter les documents, et rien n'emp\u00eache \u00e0 l'utilisateur d'installer une application native qui ne correponds pas \u00e0 OnlyOffice ni \u00e0 LibreOffice (Microsoft Office par exemple).","title":"OnlyOffice / Collabora"},{"location":"cas/","text":"Int\u00e9gration CAS \u00b6 NextCloud \u00b6 NextCloud propose une application (CAS user an group backend) pour impl\u00e9menter le SSO via CAS. Cependant, il n'est plus possible d'utiliser \u00e0 la fois l'authentification CAS et le plugin LDAP pour g\u00e9rer les connexions d'un m\u00eame pool d'utilisateur. Il faut donc faire un choix entre les fonctionnalit\u00e9s apport\u00e9es par le plugin LDAP et par le plugin CAS, ce qui pose probl\u00e8me. Ce plugin n'est donc finalement pas une option. Il existe \u00e9galement une application officielle et plus g\u00e9n\u00e9rique: SSO & SAML authentication. Cette application \u00e0 l'avantage d'\u00eatre compatible avec le plugin LDAP. Apr\u00e8s avoir r\u00e9alis\u00e9 de nombreux tests, l'authentification SAML propos\u00e9e par ce plugin est la seule option viable pour que l'ensemble fonctionne comme attendu. Les environnements docker nextcloud sont param\u00e9tr\u00e9s pour utiliser ce protocole et prouvent le fonctionnement du SSO avec CAS 6. Le Single Sign Out a \u00e9t\u00e9 test\u00e9 et fonctionne comme attendu en SAML. Il est important de configurer la propri\u00e9t\u00e9 metadataLocation pour que le SLS (Single Logout Service) de Nextcloud soit enregistr\u00e9 aupr\u00e8s de CAS. { \"@class\" : \"org.apereo.cas.support.saml.services.SamlRegisteredService\" , \"serviceId\" : \"https?://nextcloud\\\\.pce-cloud-2\\\\.test/apps/user_saml/saml/metadata\" , \"name\" : \"NextCloud 2\" , \"metadataLocation\" : \"https://nextcloud.pce-cloud-2.test/apps/user_saml/saml/metadata\" , \"id\" : 10000002 , \"usernameAttributeProvider\" : { \"@class\" : \"org.apereo.cas.services.PrincipalAttributeRegisteredServiceUsernameProvider\" , \"usernameAttribute\" : \"uid\" } , \"attributeReleasePolicy\" : { \"@class\" : \"org.apereo.cas.services.ReturnAllAttributeReleasePolicy\" } } Ainsi, lorsque l'utilisateur se d\u00e9connecte du CAS, sa session Nextcloud est invalid\u00e9e, et le lien \"Se d\u00e9connecter\" de Nextcloud pointe vers l'url de logout du CAS. Seafile \u00b6 L'int\u00e9gration directe \u00e0 CAS n'est pas disponible dans la version gratuite de Seafile. Il est possible de configurer Shibboleth via Apache, donc la configuration de CAS doit pouvoir se faire par ce biais.","title":"CAS"},{"location":"cas/#integration-cas","text":"","title":"Int\u00e9gration CAS"},{"location":"cas/#nextcloud","text":"NextCloud propose une application (CAS user an group backend) pour impl\u00e9menter le SSO via CAS. Cependant, il n'est plus possible d'utiliser \u00e0 la fois l'authentification CAS et le plugin LDAP pour g\u00e9rer les connexions d'un m\u00eame pool d'utilisateur. Il faut donc faire un choix entre les fonctionnalit\u00e9s apport\u00e9es par le plugin LDAP et par le plugin CAS, ce qui pose probl\u00e8me. Ce plugin n'est donc finalement pas une option. Il existe \u00e9galement une application officielle et plus g\u00e9n\u00e9rique: SSO & SAML authentication. Cette application \u00e0 l'avantage d'\u00eatre compatible avec le plugin LDAP. Apr\u00e8s avoir r\u00e9alis\u00e9 de nombreux tests, l'authentification SAML propos\u00e9e par ce plugin est la seule option viable pour que l'ensemble fonctionne comme attendu. Les environnements docker nextcloud sont param\u00e9tr\u00e9s pour utiliser ce protocole et prouvent le fonctionnement du SSO avec CAS 6. Le Single Sign Out a \u00e9t\u00e9 test\u00e9 et fonctionne comme attendu en SAML. Il est important de configurer la propri\u00e9t\u00e9 metadataLocation pour que le SLS (Single Logout Service) de Nextcloud soit enregistr\u00e9 aupr\u00e8s de CAS. { \"@class\" : \"org.apereo.cas.support.saml.services.SamlRegisteredService\" , \"serviceId\" : \"https?://nextcloud\\\\.pce-cloud-2\\\\.test/apps/user_saml/saml/metadata\" , \"name\" : \"NextCloud 2\" , \"metadataLocation\" : \"https://nextcloud.pce-cloud-2.test/apps/user_saml/saml/metadata\" , \"id\" : 10000002 , \"usernameAttributeProvider\" : { \"@class\" : \"org.apereo.cas.services.PrincipalAttributeRegisteredServiceUsernameProvider\" , \"usernameAttribute\" : \"uid\" } , \"attributeReleasePolicy\" : { \"@class\" : \"org.apereo.cas.services.ReturnAllAttributeReleasePolicy\" } } Ainsi, lorsque l'utilisateur se d\u00e9connecte du CAS, sa session Nextcloud est invalid\u00e9e, et le lien \"Se d\u00e9connecter\" de Nextcloud pointe vers l'url de logout du CAS.","title":"NextCloud"},{"location":"cas/#seafile","text":"L'int\u00e9gration directe \u00e0 CAS n'est pas disponible dans la version gratuite de Seafile. Il est possible de configurer Shibboleth via Apache, donc la configuration de CAS doit pouvoir se faire par ce biais.","title":"Seafile"},{"location":"docker/","text":"Docker \u00b6 NextCloud \u00b6 NextCloud est officiellement compatible avec docker et fourni une image officielle efficace, ainsi que des exemples de configuration docker-compose. Seafile \u00b6 L'int\u00e9gration de Seafile dans docker n'est pas support\u00e9e par Seafile. Une image est fournie par la communaut\u00e9, mais n'est pas bien structur\u00e9e et embarque l'ensemble des services au sein d'un m\u00eame container, base de donn\u00e9e comprise, ce qui est une mauvaise pratique. Il a fallu cr\u00e9er une image docker sp\u00e9cifique pour h\u00e9berger Seafile dans un environnement docker avec docker-compose. OnlyOffice \u00b6 OnlyOffice propose une image docker pr\u00eate a l'emploi. Collabora \u00b6 Collabora propose une image docker pr\u00eate \u00e0 l'emploi.","title":"Docker"},{"location":"docker/#docker","text":"","title":"Docker"},{"location":"docker/#nextcloud","text":"NextCloud est officiellement compatible avec docker et fourni une image officielle efficace, ainsi que des exemples de configuration docker-compose.","title":"NextCloud"},{"location":"docker/#seafile","text":"L'int\u00e9gration de Seafile dans docker n'est pas support\u00e9e par Seafile. Une image est fournie par la communaut\u00e9, mais n'est pas bien structur\u00e9e et embarque l'ensemble des services au sein d'un m\u00eame container, base de donn\u00e9e comprise, ce qui est une mauvaise pratique. Il a fallu cr\u00e9er une image docker sp\u00e9cifique pour h\u00e9berger Seafile dans un environnement docker avec docker-compose.","title":"Seafile"},{"location":"docker/#onlyoffice","text":"OnlyOffice propose une image docker pr\u00eate a l'emploi.","title":"OnlyOffice"},{"location":"docker/#collabora","text":"Collabora propose une image docker pr\u00eate \u00e0 l'emploi.","title":"Collabora"},{"location":"environnements/","text":"Environnements \u00b6 Pr\u00e9requis \u00b6 docker-devbox \u00b6 Les environnements docker n\u00e9cessitent un environnement docker-devbox pour s'\u00e9xecuter. (Pr\u00e9voir une VM d\u00e9di\u00e9e) GFI contribue \u00e0 l'OpenSource docker-devbox est un composant opensource d\u00e9velopp\u00e9 par GFI Informatique qui permet d'industrialiser les environnements applicatifs avec Docker de docker-compose. generator-docker-devbox , un g\u00e9n\u00e9rateur yeoman opensource cr\u00e9\u00e9 et maintenu par GFI. docker-devbox s'appuie sur les technologies suivantes pour faciliter la mise en oeuvre d'environnements sous Docker: Docker Docker-Compose Traefik SmartCD bash Environnements de d\u00e9monstration \u00b6 Le projet est constitu\u00e9 de 4 environnements pour les plateformes de d\u00e9monstration. Chaque environnement est ind\u00e9pendant et est constitu\u00e9 d'un dossier dans les sources du projet. Nextcloud + Collabora Nextcloud + OnlyOffice Seafile + Collabora Seafile + OnlyOffice Les instructions pour initialiser et d\u00e9marrer ces environnements sont disponibles dans les fichiers README.md de chaque dossier. Il existe \u00e9galement un cinqui\u00e8me environnement, pce-env , qui contient les services utilis\u00e9s pour d\u00e9montrer l'int\u00e9gration du syst\u00e8me d'information de l'ENT (CAS, LDAP) dans les diff\u00e9rentes solutions \u00e0 \u00e9valuer. Avant d'installer ou de d\u00e9marrer un environnement de d\u00e9monstration, il est donc n\u00e9cessaire que l'environnement pce-env soit install\u00e9 et d\u00e9marr\u00e9. Cet environnement communique avec les autres au travers du r\u00e9seau docker nomm\u00e9 pce-env , \u00e0 cr\u00e9er au pr\u00e9alable. docker network create pce-env","title":"Environnements"},{"location":"environnements/#environnements","text":"","title":"Environnements"},{"location":"environnements/#prerequis","text":"","title":"Pr\u00e9requis"},{"location":"environnements/#docker-devbox","text":"Les environnements docker n\u00e9cessitent un environnement docker-devbox pour s'\u00e9xecuter. (Pr\u00e9voir une VM d\u00e9di\u00e9e) GFI contribue \u00e0 l'OpenSource docker-devbox est un composant opensource d\u00e9velopp\u00e9 par GFI Informatique qui permet d'industrialiser les environnements applicatifs avec Docker de docker-compose. generator-docker-devbox , un g\u00e9n\u00e9rateur yeoman opensource cr\u00e9\u00e9 et maintenu par GFI. docker-devbox s'appuie sur les technologies suivantes pour faciliter la mise en oeuvre d'environnements sous Docker: Docker Docker-Compose Traefik SmartCD bash","title":"docker-devbox"},{"location":"environnements/#environnements-de-demonstration","text":"Le projet est constitu\u00e9 de 4 environnements pour les plateformes de d\u00e9monstration. Chaque environnement est ind\u00e9pendant et est constitu\u00e9 d'un dossier dans les sources du projet. Nextcloud + Collabora Nextcloud + OnlyOffice Seafile + Collabora Seafile + OnlyOffice Les instructions pour initialiser et d\u00e9marrer ces environnements sont disponibles dans les fichiers README.md de chaque dossier. Il existe \u00e9galement un cinqui\u00e8me environnement, pce-env , qui contient les services utilis\u00e9s pour d\u00e9montrer l'int\u00e9gration du syst\u00e8me d'information de l'ENT (CAS, LDAP) dans les diff\u00e9rentes solutions \u00e0 \u00e9valuer. Avant d'installer ou de d\u00e9marrer un environnement de d\u00e9monstration, il est donc n\u00e9cessaire que l'environnement pce-env soit install\u00e9 et d\u00e9marr\u00e9. Cet environnement communique avec les autres au travers du r\u00e9seau docker nomm\u00e9 pce-env , \u00e0 cr\u00e9er au pr\u00e9alable. docker network create pce-env","title":"Environnements de d\u00e9monstration"},{"location":"extensions/","text":"Extensions \u00b6 Les possibilit\u00e9s d'extension des solutions de stockage sont a \u00e9valuer avec pr\u00e9cision, car la solution de stockage choisie doit s'int\u00e9grer parfaitement \u00e0 l'environnement actuel de l'ENT. Il est pr\u00e9f\u00e9rable de limiter au maximum les modifications dans le code source m\u00eame de l'application, pour \u00eatre en mesure de mettre \u00e0 jour la solution \u00e0 l'avenir, en respectant si possible la proc\u00e9dure standard de migration. NextCloud \u00b6 NextCloud propose de grandes possibilit\u00e9s de personnalisation et d'enrichissement sp\u00e9cifiques au travers des Apps. Ces possibilit\u00e9s sont tr\u00e8s clairement document\u00e9es dans la page Nextcloud developer documentation . NextCloud adopte le mod\u00e8le MVC, et l'application est bien structur\u00e9e pour permettre les extensions. Outre la cr\u00e9ation d'Apps sp\u00e9cifiques, il est \u00e9galement possible de modifier le comportement existant au travers de Middleware qui permet de modifier les r\u00e9ponses de n'importe quel contr\u00f4leur. Ainsi il est possible d'int\u00e9grer des composants suppl\u00e9mentaires, dans n'importe quelle page. Le theming permet \u00e9galement de surcharger n'importe quel fichier PHP, ce qui est \u00e9galement un moyen d'apporter une modification sans directement modifier le code source. Cette solution reste cependant a \u00e9viter, car elle rends la mise \u00e0 jour de NextCloud d\u00e9licate (merge \u00e0 r\u00e9aliser). L'environnement de d\u00e9monstration Nextcloud int\u00e8gre une App sp\u00e9cifique nomm\u00e9 reciacustom dans le sous-module git nextcloud-custom-apps/nextcloud-recia-custom . Cette application d\u00e9montre les possibilit\u00e9s de personnalisations sur les facilit\u00e9s de collaborateurs et de partage (filtrage des utilisateurs par \u00e9tablissement). Seafile \u00b6 Seafile ne propose pas de possibilit\u00e9s particuli\u00e8res \u00e0 la modification des comportements et des affichages par d\u00e9faut. Il est n\u00e9cessaire de cr\u00e9er un fork pour int\u00e9grer des besoins sp\u00e9cifiques. Comme il est \u00e9crit en Python, il est certainement possible de r\u00e9aliser des MonkeyPatch pour \u00e9viter la cr\u00e9ation d'un fork, mais cette pratique est risqu\u00e9e, et le manque de documentation sur le fonctionnement interne de Seafile est un probl\u00e8me.","title":"Extensions"},{"location":"extensions/#extensions","text":"Les possibilit\u00e9s d'extension des solutions de stockage sont a \u00e9valuer avec pr\u00e9cision, car la solution de stockage choisie doit s'int\u00e9grer parfaitement \u00e0 l'environnement actuel de l'ENT. Il est pr\u00e9f\u00e9rable de limiter au maximum les modifications dans le code source m\u00eame de l'application, pour \u00eatre en mesure de mettre \u00e0 jour la solution \u00e0 l'avenir, en respectant si possible la proc\u00e9dure standard de migration.","title":"Extensions"},{"location":"extensions/#nextcloud","text":"NextCloud propose de grandes possibilit\u00e9s de personnalisation et d'enrichissement sp\u00e9cifiques au travers des Apps. Ces possibilit\u00e9s sont tr\u00e8s clairement document\u00e9es dans la page Nextcloud developer documentation . NextCloud adopte le mod\u00e8le MVC, et l'application est bien structur\u00e9e pour permettre les extensions. Outre la cr\u00e9ation d'Apps sp\u00e9cifiques, il est \u00e9galement possible de modifier le comportement existant au travers de Middleware qui permet de modifier les r\u00e9ponses de n'importe quel contr\u00f4leur. Ainsi il est possible d'int\u00e9grer des composants suppl\u00e9mentaires, dans n'importe quelle page. Le theming permet \u00e9galement de surcharger n'importe quel fichier PHP, ce qui est \u00e9galement un moyen d'apporter une modification sans directement modifier le code source. Cette solution reste cependant a \u00e9viter, car elle rends la mise \u00e0 jour de NextCloud d\u00e9licate (merge \u00e0 r\u00e9aliser). L'environnement de d\u00e9monstration Nextcloud int\u00e8gre une App sp\u00e9cifique nomm\u00e9 reciacustom dans le sous-module git nextcloud-custom-apps/nextcloud-recia-custom . Cette application d\u00e9montre les possibilit\u00e9s de personnalisations sur les facilit\u00e9s de collaborateurs et de partage (filtrage des utilisateurs par \u00e9tablissement).","title":"NextCloud"},{"location":"extensions/#seafile","text":"Seafile ne propose pas de possibilit\u00e9s particuli\u00e8res \u00e0 la modification des comportements et des affichages par d\u00e9faut. Il est n\u00e9cessaire de cr\u00e9er un fork pour int\u00e9grer des besoins sp\u00e9cifiques. Comme il est \u00e9crit en Python, il est certainement possible de r\u00e9aliser des MonkeyPatch pour \u00e9viter la cr\u00e9ation d'un fork, mais cette pratique est risqu\u00e9e, et le manque de documentation sur le fonctionnement interne de Seafile est un probl\u00e8me.","title":"Seafile"},{"location":"ldap/","text":"LDAP \u00b6 La solution de stockage doit \u00eatre capable d'exploiter les informations du LDAP pour synchroniser les informations des utilisateurs et des groupes. Cette int\u00e9gration se fait uniquement via les solutions de stockage, NextCloud et Seafile. NextCloud \u00b6 L'int\u00e9gration du LDAP dans NextCloud se fait par une application sp\u00e9cifique qu'il est possible d'installer et de configurer par l'interface graphique. L'interface graphique propose des choix automatis\u00e9s, mais permet \u00e9galement de configurer manuellement ses propres filtres LDAP pour plus de contr\u00f4le. Cette application permet de synchroniser les utilisateurs et les groupes, en affectant les groupes aux utilisateurs tel que d\u00e9fini dans le LDAP. Il existe \u00e9galement un \u00e9cran de configuration avanc\u00e9, qui permet de choisir le champs \"Nom d'affichage\" pour l'utilisateur ( displayName par d\u00e9faut) et pour le groupe ( cn par d\u00e9faut), ainsi que les champs pour le Quota, l'email de l'utilisateur. Il est \u00e9galement possible de modifier l'association groupe-membre. Des champs suppl\u00e9mentaires pourraient \u00eatre ajout\u00e9s aux groupes LDAP pour proposer des libell\u00e9s plus parlants que le cn . Pour optimiser les performances de la synchronisation LDAP, il est pr\u00e9f\u00e9rable de programmer une t\u00e2che Cron associ\u00e9e dans NextCloud afin de pr\u00e9charger les donn\u00e9es LDAP dans la base de donn\u00e9es. Int\u00e9gration avanc\u00e9 \u00b6 Pour int\u00e9grer des besoins sp\u00e9cifiques sur la synchronisation LDAP et limiter les possibilit\u00e9s de partage \u00e0 certains utilisateurs uniquement en fonction de l'utilisateur connect\u00e9 (Ma propre classe par exemple, mes enseignants, etc ...), il sera n\u00e9cessaire d'\u00e9crire du code sp\u00e9cifique dans une App NextCloud d\u00e9di\u00e9e. NextCloud propose une option \"N'autoriser les partages qu'entre membres de m\u00eames groupes\" (dans Administration / Partage), mais cela ne semble pas suffisant pour prendre en compte tous les cas d'utilisation n\u00e9cessaires. Les sources du projet permettant d'impl\u00e9menter ces sp\u00e9cificit\u00e9s sont disponibles dans le repository github, dossier nextcloud-apps. Seafile \u00b6 L'int\u00e9gration du LDAP dans Seafile se fait par fichier de configuration. Les utilisateurs sont synchronis\u00e9s, mais pas les groupes ni les r\u00f4les, car cette fonctionnalit\u00e9s est disponible uniquement dans la version Pro. Il faudra donc d\u00e9velopper un script de synchronisation sp\u00e9cifique pour synchroniser les groupes LDAP au sein de Seafile. Seafile propose cependant une API document\u00e9e","title":"LDAP"},{"location":"ldap/#ldap","text":"La solution de stockage doit \u00eatre capable d'exploiter les informations du LDAP pour synchroniser les informations des utilisateurs et des groupes. Cette int\u00e9gration se fait uniquement via les solutions de stockage, NextCloud et Seafile.","title":"LDAP"},{"location":"ldap/#nextcloud","text":"L'int\u00e9gration du LDAP dans NextCloud se fait par une application sp\u00e9cifique qu'il est possible d'installer et de configurer par l'interface graphique. L'interface graphique propose des choix automatis\u00e9s, mais permet \u00e9galement de configurer manuellement ses propres filtres LDAP pour plus de contr\u00f4le. Cette application permet de synchroniser les utilisateurs et les groupes, en affectant les groupes aux utilisateurs tel que d\u00e9fini dans le LDAP. Il existe \u00e9galement un \u00e9cran de configuration avanc\u00e9, qui permet de choisir le champs \"Nom d'affichage\" pour l'utilisateur ( displayName par d\u00e9faut) et pour le groupe ( cn par d\u00e9faut), ainsi que les champs pour le Quota, l'email de l'utilisateur. Il est \u00e9galement possible de modifier l'association groupe-membre. Des champs suppl\u00e9mentaires pourraient \u00eatre ajout\u00e9s aux groupes LDAP pour proposer des libell\u00e9s plus parlants que le cn . Pour optimiser les performances de la synchronisation LDAP, il est pr\u00e9f\u00e9rable de programmer une t\u00e2che Cron associ\u00e9e dans NextCloud afin de pr\u00e9charger les donn\u00e9es LDAP dans la base de donn\u00e9es.","title":"NextCloud"},{"location":"ldap/#integration-avance","text":"Pour int\u00e9grer des besoins sp\u00e9cifiques sur la synchronisation LDAP et limiter les possibilit\u00e9s de partage \u00e0 certains utilisateurs uniquement en fonction de l'utilisateur connect\u00e9 (Ma propre classe par exemple, mes enseignants, etc ...), il sera n\u00e9cessaire d'\u00e9crire du code sp\u00e9cifique dans une App NextCloud d\u00e9di\u00e9e. NextCloud propose une option \"N'autoriser les partages qu'entre membres de m\u00eames groupes\" (dans Administration / Partage), mais cela ne semble pas suffisant pour prendre en compte tous les cas d'utilisation n\u00e9cessaires. Les sources du projet permettant d'impl\u00e9menter ces sp\u00e9cificit\u00e9s sont disponibles dans le repository github, dossier nextcloud-apps.","title":"Int\u00e9gration avanc\u00e9"},{"location":"ldap/#seafile","text":"L'int\u00e9gration du LDAP dans Seafile se fait par fichier de configuration. Les utilisateurs sont synchronis\u00e9s, mais pas les groupes ni les r\u00f4les, car cette fonctionnalit\u00e9s est disponible uniquement dans la version Pro. Il faudra donc d\u00e9velopper un script de synchronisation sp\u00e9cifique pour synchroniser les groupes LDAP au sein de Seafile. Seafile propose cependant une API document\u00e9e","title":"Seafile"},{"location":"licenses/","text":"Licenses \u00b6 Seafile \u00b6 Seafile est constitu\u00e9 de plusieurs composants distribu\u00e9s sous diff\u00e9rentes license SeaHub: Apache 2.0 CCNet Server: AGPLv3 Seafile Server: AGPLv3 Seafile: GPLv2 Les modifications apport\u00e9es \u00e0 Seafile Server et Seafile doivent \u00eatre publi\u00e9es sous une license compatible GPL. Seafile Pro \u00b6 Seafile est port\u00e9 par une soci\u00e9t\u00e9 qui commercialise une \u00e9dition Pro. L'\u00e9dition community, gratuite et libre, doit donc \u00eatre vue comme une version d'\u00e9valuation qui int\u00e8gre les fonctionnalit\u00e9s essentielles uniquement. Par exemple, la version Pro inclu un script de synchronisation des utilisateurs et groupes du LDAP vers Seafile, alors qu'il faudra le d\u00e9velopper manuellement sur la version community. Idem pour l'int\u00e9gration d'un antivirus. Number of users Price /Year (USD/EUR) Price for Educational /Year (USD/EUR) 3 users Free Free 9 users $100 in Total $100 in Total From 10 to 249 $48 /User (\u20ac44) $24 /User (\u20ac22) From 250 to 499 $44 /User (\u20ac40) $22 /User (\u20ac20) From 500 to 749 $40 /User (\u20ac35) $18 /User (\u20ac16) From 750 to 999 $35 /User (\u20ac30) $16 /User (\u20ac14) 1000+ Contact us Contact us Plus de d\u00e9tails sur la version Pro Budget Compte tenu du budget n\u00e9cessaire pour le nombre d'utilisateur pr\u00e9vus, les fonctionnalit\u00e9s offertes par la version Pro sont \u00e9cart\u00e9es de l'analyse comparative des solutions. NextCloud \u00b6 NextCloud est fourni sous license AGPLv3. Il est clairement stipul\u00e9 dans la documentation de NextCloud que toutes les applications d\u00e9velopp\u00e9es pour NextCloud doivent \u00eatre publi\u00e9es sous license AGPLv3 ou une autre license compatible, ce qui interdit le d\u00e9veloppement de modules sp\u00e9cifiques priv\u00e9s. Collabora CODE \u00b6 Collabora CODE est fourni sous license Mozilla Public License v2.0 Les fichiers modifi\u00e9s sous license MPL doivent \u00eatre publi\u00e9s sous la m\u00eame license, mais il est possible d'int\u00e9grer d'autres sources au sein de l'application sans avoir \u00e0 la publier. OnlyOffice \u00b6 OnlyOffice est fourni sous license AGPL v3 Les modifications apport\u00e9es \u00e0 OnlyOffice doivent \u00eatre publi\u00e9es sous une license compatible GPL. La version gratuite est cependant limit\u00e9e \u00e0 20 utilisateurs simultan\u00e9s par serveur, et cette limite a \u00e9t\u00e9 atteinte lors de l'execution du test de performance. Il est peut-\u00eatre possible d'utiliser un load balancer pour obtenir un nombre d'utilisateur simultan\u00e9 plus important (\u00e0 Valider). Rappels sur les licenses rencontr\u00e9es \u00b6 GPL (General Public License) \u00b6 L'objectif de la licence GNU GPL, selon ses cr\u00e9ateurs est de garantir \u00e0 l'utilisateur les droits suivants (appel\u00e9s libert\u00e9s) sur un programme informatique : La libert\u00e9 d'ex\u00e9cuter le logiciel, pour n'importe quel usage La libert\u00e9 d'\u00e9tudier le fonctionnement d'un programme et de l'adapter \u00e0 ses besoins, ce qui passe par l'acc\u00e8s aux codes sources La libert\u00e9 de redistribuer des copies L'obligation de faire b\u00e9n\u00e9ficier la communaut\u00e9 des versions modifi\u00e9es. Pour la premi\u00e8re libert\u00e9, cela exclut donc toutes limitations d'utilisation d'un programme par rapport \u00e0 l'architecture (notamment le processeur et le syst\u00e8me d'exploitation) ou \u00e0 l'utilisation qui va en \u00eatre faite. La quatri\u00e8me libert\u00e9 passe par un choix : la deuxi\u00e8me autorisant de modifier un programme, il n'est pas tenu de publier une version modifi\u00e9e tant qu'elle est pour un usage personnel ; par contre, en cas de distribution d'une version modifi\u00e9e, la quatri\u00e8me libert\u00e9 am\u00e8ne l'obligation \u00e0 ce que les modifications soient retourn\u00e9es \u00e0 la communaut\u00e9 sous la m\u00eame licence. A noter qu'il existe quelques variants de cette license AGPL (Affero General Public License): Lorsqu'un programme s'execute sur un serveur, le code source des modifications doit \u00eatre disponible en t\u00e9l\u00e9chargement. Apache License \u00b6 Les caract\u00e9ristiques majeures de la licence Apache sont, d'une part, d'autoriser la modification et la distribution du code sous toute forme (libre ou propri\u00e9taire, gratuit ou commercial) et, d'autre part, d'obliger le maintien du copyright lors de toute modification (et \u00e9galement du texte de la licence elle-m\u00eame). Il n'y a pas d'obligation de publier les sources modifi\u00e9es d'un programme sous license Apache, mais le cas \u00e9ch\u00e9ant, il faut veiller \u00e0: Diffuser une copie de la licence avec le code source. Mentioner clairement chaque fichier modifi\u00e9. Mentioner les brevets, marques d\u00e9pos\u00e9es, copyright et note d'attribution. Ne pas modifier la license originale. Mozilla Public License \u00b6 Cette license est plus permissive que la GPL, car elle n'est pas h\u00e9r\u00e9ditaire : Elle permet d'int\u00e9grer des fichiers source MPL avec des sources soumis \u00e0 n'importe quelle autre licence.","title":"Licenses"},{"location":"licenses/#licenses","text":"","title":"Licenses"},{"location":"licenses/#seafile","text":"Seafile est constitu\u00e9 de plusieurs composants distribu\u00e9s sous diff\u00e9rentes license SeaHub: Apache 2.0 CCNet Server: AGPLv3 Seafile Server: AGPLv3 Seafile: GPLv2 Les modifications apport\u00e9es \u00e0 Seafile Server et Seafile doivent \u00eatre publi\u00e9es sous une license compatible GPL.","title":"Seafile"},{"location":"licenses/#seafile-pro","text":"Seafile est port\u00e9 par une soci\u00e9t\u00e9 qui commercialise une \u00e9dition Pro. L'\u00e9dition community, gratuite et libre, doit donc \u00eatre vue comme une version d'\u00e9valuation qui int\u00e8gre les fonctionnalit\u00e9s essentielles uniquement. Par exemple, la version Pro inclu un script de synchronisation des utilisateurs et groupes du LDAP vers Seafile, alors qu'il faudra le d\u00e9velopper manuellement sur la version community. Idem pour l'int\u00e9gration d'un antivirus. Number of users Price /Year (USD/EUR) Price for Educational /Year (USD/EUR) 3 users Free Free 9 users $100 in Total $100 in Total From 10 to 249 $48 /User (\u20ac44) $24 /User (\u20ac22) From 250 to 499 $44 /User (\u20ac40) $22 /User (\u20ac20) From 500 to 749 $40 /User (\u20ac35) $18 /User (\u20ac16) From 750 to 999 $35 /User (\u20ac30) $16 /User (\u20ac14) 1000+ Contact us Contact us Plus de d\u00e9tails sur la version Pro Budget Compte tenu du budget n\u00e9cessaire pour le nombre d'utilisateur pr\u00e9vus, les fonctionnalit\u00e9s offertes par la version Pro sont \u00e9cart\u00e9es de l'analyse comparative des solutions.","title":"Seafile Pro"},{"location":"licenses/#nextcloud","text":"NextCloud est fourni sous license AGPLv3. Il est clairement stipul\u00e9 dans la documentation de NextCloud que toutes les applications d\u00e9velopp\u00e9es pour NextCloud doivent \u00eatre publi\u00e9es sous license AGPLv3 ou une autre license compatible, ce qui interdit le d\u00e9veloppement de modules sp\u00e9cifiques priv\u00e9s.","title":"NextCloud"},{"location":"licenses/#collabora-code","text":"Collabora CODE est fourni sous license Mozilla Public License v2.0 Les fichiers modifi\u00e9s sous license MPL doivent \u00eatre publi\u00e9s sous la m\u00eame license, mais il est possible d'int\u00e9grer d'autres sources au sein de l'application sans avoir \u00e0 la publier.","title":"Collabora CODE"},{"location":"licenses/#onlyoffice","text":"OnlyOffice est fourni sous license AGPL v3 Les modifications apport\u00e9es \u00e0 OnlyOffice doivent \u00eatre publi\u00e9es sous une license compatible GPL. La version gratuite est cependant limit\u00e9e \u00e0 20 utilisateurs simultan\u00e9s par serveur, et cette limite a \u00e9t\u00e9 atteinte lors de l'execution du test de performance. Il est peut-\u00eatre possible d'utiliser un load balancer pour obtenir un nombre d'utilisateur simultan\u00e9 plus important (\u00e0 Valider).","title":"OnlyOffice"},{"location":"licenses/#rappels-sur-les-licenses-rencontrees","text":"","title":"Rappels sur les licenses rencontr\u00e9es"},{"location":"licenses/#gpl-general-public-license","text":"L'objectif de la licence GNU GPL, selon ses cr\u00e9ateurs est de garantir \u00e0 l'utilisateur les droits suivants (appel\u00e9s libert\u00e9s) sur un programme informatique : La libert\u00e9 d'ex\u00e9cuter le logiciel, pour n'importe quel usage La libert\u00e9 d'\u00e9tudier le fonctionnement d'un programme et de l'adapter \u00e0 ses besoins, ce qui passe par l'acc\u00e8s aux codes sources La libert\u00e9 de redistribuer des copies L'obligation de faire b\u00e9n\u00e9ficier la communaut\u00e9 des versions modifi\u00e9es. Pour la premi\u00e8re libert\u00e9, cela exclut donc toutes limitations d'utilisation d'un programme par rapport \u00e0 l'architecture (notamment le processeur et le syst\u00e8me d'exploitation) ou \u00e0 l'utilisation qui va en \u00eatre faite. La quatri\u00e8me libert\u00e9 passe par un choix : la deuxi\u00e8me autorisant de modifier un programme, il n'est pas tenu de publier une version modifi\u00e9e tant qu'elle est pour un usage personnel ; par contre, en cas de distribution d'une version modifi\u00e9e, la quatri\u00e8me libert\u00e9 am\u00e8ne l'obligation \u00e0 ce que les modifications soient retourn\u00e9es \u00e0 la communaut\u00e9 sous la m\u00eame licence. A noter qu'il existe quelques variants de cette license AGPL (Affero General Public License): Lorsqu'un programme s'execute sur un serveur, le code source des modifications doit \u00eatre disponible en t\u00e9l\u00e9chargement.","title":"GPL (General Public License)"},{"location":"licenses/#apache-license","text":"Les caract\u00e9ristiques majeures de la licence Apache sont, d'une part, d'autoriser la modification et la distribution du code sous toute forme (libre ou propri\u00e9taire, gratuit ou commercial) et, d'autre part, d'obliger le maintien du copyright lors de toute modification (et \u00e9galement du texte de la licence elle-m\u00eame). Il n'y a pas d'obligation de publier les sources modifi\u00e9es d'un programme sous license Apache, mais le cas \u00e9ch\u00e9ant, il faut veiller \u00e0: Diffuser une copie de la licence avec le code source. Mentioner clairement chaque fichier modifi\u00e9. Mentioner les brevets, marques d\u00e9pos\u00e9es, copyright et note d'attribution. Ne pas modifier la license originale.","title":"Apache License"},{"location":"licenses/#mozilla-public-license","text":"Cette license est plus permissive que la GPL, car elle n'est pas h\u00e9r\u00e9ditaire : Elle permet d'int\u00e9grer des fichiers source MPL avec des sources soumis \u00e0 n'importe quelle autre licence.","title":"Mozilla Public License"},{"location":"perenite/","text":"P\u00e9r\u00e9nit\u00e9 \u00b6 Il est important d'\u00e9valuer la p\u00e9r\u00e9nit\u00e9 des solutions pour \u00e9viter les probl\u00e8mes \u00e0 l'avenir. Sur un projet OpenSource, un bon indicateur de popularit\u00e9 est l'analyse de l'activit\u00e9 d'un repository GitHub, mais aussi les indicateurs des r\u00e9seaux sociaux g\u00e9n\u00e9ralistes Popularit\u00e9 \u00b6 Crit\u00e8re NextCloud Seafile Github (Stars) 6 860 6 658 Github (Forks) 1 210 1 099 Github (Commits) 48 757 2 048 Twitter (Followers) 14 200 2 400 Facebook (Like) 5 189 139 Attention Il n'y a eu aucun commit depuis le 22 Janvier sur le github de Seafile. Crit\u00e8re OnlyOffice Collabora Github (Stars) 1 049 N/A Github (Forks) 347 N/A Github (Commits) 48 757 N/A Twitter (Followers) 2 632 2 051 Facebook (Like) 5 189 139 Seafile n'est pas compatible Python 3 \u00b6 Python 2.7 ne sera plus maintenant au 1er Janvier 2020 , mais Seafile n'est pas encore compatible avec Python 3. L'\u00e9quipe assure qu'elle va travailler sur ce point en 2019 , mais le manque d'activit\u00e9 du github reste inqui\u00e9tant.","title":"P\u00e9r\u00e9nit\u00e9"},{"location":"perenite/#perenite","text":"Il est important d'\u00e9valuer la p\u00e9r\u00e9nit\u00e9 des solutions pour \u00e9viter les probl\u00e8mes \u00e0 l'avenir. Sur un projet OpenSource, un bon indicateur de popularit\u00e9 est l'analyse de l'activit\u00e9 d'un repository GitHub, mais aussi les indicateurs des r\u00e9seaux sociaux g\u00e9n\u00e9ralistes","title":"P\u00e9r\u00e9nit\u00e9"},{"location":"perenite/#popularite","text":"Crit\u00e8re NextCloud Seafile Github (Stars) 6 860 6 658 Github (Forks) 1 210 1 099 Github (Commits) 48 757 2 048 Twitter (Followers) 14 200 2 400 Facebook (Like) 5 189 139 Attention Il n'y a eu aucun commit depuis le 22 Janvier sur le github de Seafile. Crit\u00e8re OnlyOffice Collabora Github (Stars) 1 049 N/A Github (Forks) 347 N/A Github (Commits) 48 757 N/A Twitter (Followers) 2 632 2 051 Facebook (Like) 5 189 139","title":"Popularit\u00e9"},{"location":"perenite/#seafile-nest-pas-compatible-python-3","text":"Python 2.7 ne sera plus maintenant au 1er Janvier 2020 , mais Seafile n'est pas encore compatible avec Python 3. L'\u00e9quipe assure qu'elle va travailler sur ce point en 2019 , mais le manque d'activit\u00e9 du github reste inqui\u00e9tant.","title":"Seafile n'est pas compatible Python 3"},{"location":"performances/","text":"Performances \u00b6 Solution de stockage \u00b6 Algorithmes de synchronisation \u00b6 La synchronisation des fichiers propos\u00e9e par Seafile est plus rapide que celle de NextCloud. Seafile explose les fichiers stock\u00e9s en fragments (chunk files), comme git, et impl\u00e9mente un algorithme optimis\u00e9 pour la synchronisation, comme rsync. Ces choix permettent d'am\u00e9liorer d'am\u00e9liorer la vitesse de synchronisation. NextCloud Seafile Protocole de synchronisation \u00b6 Seafile utilise par d\u00e9faut un protocole non standardis\u00e9 pour la synchronisation, ce qui le rends incompatible avec de nombreux clients de synchronisation de fichier g\u00e9n\u00e9riques. Il existe cependant un plugin WebDav, mais on perds alors l'avantage des performances apport\u00e9es par le protocole par d\u00e9faut. NextCloud utilise WebDav pour la synchronisation des fichiers ce qui le rends plus ouvert. Solution d'\u00e9dition \u00b6 Architecture \u00b6 Collabora est une repr\u00e9sentation visuelle de LibreOffice h\u00e9berg\u00e9 sur un serveur et envoy\u00e9e au navigateur. Seuls les \u00e9l\u00e9ments de contr\u00f4les et quelques fonctionnalit\u00e9s sont adapt\u00e9s par rapport \u00e0 la version Desktop de LibreOffice. OnlyOffice lui fonctionne comme une application HTML5/JS classique, et travaille en \u00e9changeant des donn\u00e9es en permanence avec le serveur. Cette architecture d\u00e9charge \u00e9norm\u00e9ment de travail du serveur vers le client. D'apr\u00e8s son auteur, OnlyOffice peut supporter sur un serveur double c\u0153ur jusqu\u2019\u00e0 150 utilisateurs, tandis qu\u2019avec Collabora il peut en accueillir dix seulement. Tests de performance \u00b6 Des tests ont \u00e9t\u00e9 \u00e9crits en python avec locust , un outils de test de mont\u00e9e en charge facile d'acc\u00e8s et distribu\u00e9. Les sources sont disponibles dans le dossier load-testing . Un test a \u00e9t\u00e9 d\u00e9roul\u00e9 sur l'environnement de d\u00e9monstration pce-cloud-2 , int\u00e9grant Nextcloud et OnlyOffice. Ce test de mont\u00e9e en charge \u00e0 permis de montrer que le service OnlyOffice bloque lorsque plus de 20 utilisateurs l'utilisent en m\u00eame temps (limite annonc\u00e9e de la license OpenSource). Cela a \u00e9galement mis en \u00e9vidence une certaine lenteur de Nextcloud lors de la manipulation des fichiers via Webdav. Une strat\u00e9gie de mise \u00e0 l'\u00e9chelle horizontale permettrait de mitiger ces probl\u00e8mes.","title":"Performances"},{"location":"performances/#performances","text":"","title":"Performances"},{"location":"performances/#solution-de-stockage","text":"","title":"Solution de stockage"},{"location":"performances/#algorithmes-de-synchronisation","text":"La synchronisation des fichiers propos\u00e9e par Seafile est plus rapide que celle de NextCloud. Seafile explose les fichiers stock\u00e9s en fragments (chunk files), comme git, et impl\u00e9mente un algorithme optimis\u00e9 pour la synchronisation, comme rsync. Ces choix permettent d'am\u00e9liorer d'am\u00e9liorer la vitesse de synchronisation. NextCloud Seafile","title":"Algorithmes de synchronisation"},{"location":"performances/#protocole-de-synchronisation","text":"Seafile utilise par d\u00e9faut un protocole non standardis\u00e9 pour la synchronisation, ce qui le rends incompatible avec de nombreux clients de synchronisation de fichier g\u00e9n\u00e9riques. Il existe cependant un plugin WebDav, mais on perds alors l'avantage des performances apport\u00e9es par le protocole par d\u00e9faut. NextCloud utilise WebDav pour la synchronisation des fichiers ce qui le rends plus ouvert.","title":"Protocole de synchronisation"},{"location":"performances/#solution-dedition","text":"","title":"Solution d'\u00e9dition"},{"location":"performances/#architecture","text":"Collabora est une repr\u00e9sentation visuelle de LibreOffice h\u00e9berg\u00e9 sur un serveur et envoy\u00e9e au navigateur. Seuls les \u00e9l\u00e9ments de contr\u00f4les et quelques fonctionnalit\u00e9s sont adapt\u00e9s par rapport \u00e0 la version Desktop de LibreOffice. OnlyOffice lui fonctionne comme une application HTML5/JS classique, et travaille en \u00e9changeant des donn\u00e9es en permanence avec le serveur. Cette architecture d\u00e9charge \u00e9norm\u00e9ment de travail du serveur vers le client. D'apr\u00e8s son auteur, OnlyOffice peut supporter sur un serveur double c\u0153ur jusqu\u2019\u00e0 150 utilisateurs, tandis qu\u2019avec Collabora il peut en accueillir dix seulement.","title":"Architecture"},{"location":"performances/#tests-de-performance","text":"Des tests ont \u00e9t\u00e9 \u00e9crits en python avec locust , un outils de test de mont\u00e9e en charge facile d'acc\u00e8s et distribu\u00e9. Les sources sont disponibles dans le dossier load-testing . Un test a \u00e9t\u00e9 d\u00e9roul\u00e9 sur l'environnement de d\u00e9monstration pce-cloud-2 , int\u00e9grant Nextcloud et OnlyOffice. Ce test de mont\u00e9e en charge \u00e0 permis de montrer que le service OnlyOffice bloque lorsque plus de 20 utilisateurs l'utilisent en m\u00eame temps (limite annonc\u00e9e de la license OpenSource). Cela a \u00e9galement mis en \u00e9vidence une certaine lenteur de Nextcloud lors de la manipulation des fichiers via Webdav. Une strat\u00e9gie de mise \u00e0 l'\u00e9chelle horizontale permettrait de mitiger ces probl\u00e8mes.","title":"Tests de performance"},{"location":"rgpd/","text":"RGPD \u00b6 L'application du r\u00e8glement europ\u00e9en sur la protection des donn\u00e9es (RGPD) implique la suppression des donn\u00e9es des anciens utilisateurs. Les solutions doivent donc fournir des m\u00e9canismes pour supprimer ces utilisateurs qui ne sont plus pr\u00e9sents dans le LDAP. NextCloud \u00b6 NextCloud communique sur l' impl\u00e9mentation des r\u00e8gles li\u00e9es au RGPD dans sa solution. De plus, la solution propose une solution document\u00e9e pour nettoyer les utilisateurs LDAP qui ne sont plus pr\u00e9sents dans l'annuaire LDAP. LDAP User Cleanup is a new feature in the LDAP user and group backend application. LDAP User Cleanup is a background process that automatically searches the Nextcloud LDAP mappings table, and verifies if the LDAP users are still available. Any users that are not available are marked as deleted in the oc_preferences database table. Then you can run a command to display this table, displaying only the users marked as deleted , and then you have the option of removing their data from your Nextcloud data directory. La suppression d'un utilisateur et de ses donn\u00e9es associ\u00e9es peut se faire en ligne de commande ( occ user:delete <uid> ) ou par l' API . Seafile \u00b6 Il n'y a rien de pr\u00e9vu dans Seafile pour la suppression des utilisateurs absents du LDAP. Il faudra \u00e9crire un script pour r\u00e9aliser manuellement cette suppression via l'API.","title":"RGPD"},{"location":"rgpd/#rgpd","text":"L'application du r\u00e8glement europ\u00e9en sur la protection des donn\u00e9es (RGPD) implique la suppression des donn\u00e9es des anciens utilisateurs. Les solutions doivent donc fournir des m\u00e9canismes pour supprimer ces utilisateurs qui ne sont plus pr\u00e9sents dans le LDAP.","title":"RGPD"},{"location":"rgpd/#nextcloud","text":"NextCloud communique sur l' impl\u00e9mentation des r\u00e8gles li\u00e9es au RGPD dans sa solution. De plus, la solution propose une solution document\u00e9e pour nettoyer les utilisateurs LDAP qui ne sont plus pr\u00e9sents dans l'annuaire LDAP. LDAP User Cleanup is a new feature in the LDAP user and group backend application. LDAP User Cleanup is a background process that automatically searches the Nextcloud LDAP mappings table, and verifies if the LDAP users are still available. Any users that are not available are marked as deleted in the oc_preferences database table. Then you can run a command to display this table, displaying only the users marked as deleted , and then you have the option of removing their data from your Nextcloud data directory. La suppression d'un utilisateur et de ses donn\u00e9es associ\u00e9es peut se faire en ligne de commande ( occ user:delete <uid> ) ou par l' API .","title":"NextCloud"},{"location":"rgpd/#seafile","text":"Il n'y a rien de pr\u00e9vu dans Seafile pour la suppression des utilisateurs absents du LDAP. Il faudra \u00e9crire un script pour r\u00e9aliser manuellement cette suppression via l'API.","title":"Seafile"},{"location":"sauvegarde/","text":"Sauvegarde \u00b6 La sauvegarde des donn\u00e9es doit \u00eatre mise en place au niveau de la solution de stockage. Il n'y a rien a sauvegard\u00e9 sur la solution d'\u00e9dition, qui est un service sans \u00e9tat. NextCloud \u00b6 Backup Restoring backup Ce processus de sauvegarde et de restauration a \u00e9t\u00e9 valid\u00e9 lors d'un test sur l'environnement de d\u00e9monstration. Seafile \u00b6 Backup and Restore from backup","title":"Sauvegarde"},{"location":"sauvegarde/#sauvegarde","text":"La sauvegarde des donn\u00e9es doit \u00eatre mise en place au niveau de la solution de stockage. Il n'y a rien a sauvegard\u00e9 sur la solution d'\u00e9dition, qui est un service sans \u00e9tat.","title":"Sauvegarde"},{"location":"sauvegarde/#nextcloud","text":"Backup Restoring backup Ce processus de sauvegarde et de restauration a \u00e9t\u00e9 valid\u00e9 lors d'un test sur l'environnement de d\u00e9monstration.","title":"NextCloud"},{"location":"sauvegarde/#seafile","text":"Backup and Restore from backup","title":"Seafile"},{"location":"sources/","text":"Sources \u00b6 Seafile/NextCloud \u00b6 Reddit maketecheasier HONGKIAT OnlyOffice/Collabora \u00b6 ONLYOFFICE VS Collabora: a critical comparison Comparer le travail collaboratif dans ONLYOFFICE et Collabora ONLYOFFICE, la meilleure alternative \u00e0 Collabora Online. OnlyOffice or Collabora? Onlyoffice vs Collabora CODE or Collabora community server Nextcloud Office Suite: Collabora or ONLYOFFICE?","title":"Sources"},{"location":"sources/#sources","text":"","title":"Sources"},{"location":"sources/#seafilenextcloud","text":"Reddit maketecheasier HONGKIAT","title":"Seafile/NextCloud"},{"location":"sources/#onlyofficecollabora","text":"ONLYOFFICE VS Collabora: a critical comparison Comparer le travail collaboratif dans ONLYOFFICE et Collabora ONLYOFFICE, la meilleure alternative \u00e0 Collabora Online. OnlyOffice or Collabora? Onlyoffice vs Collabora CODE or Collabora community server Nextcloud Office Suite: Collabora or ONLYOFFICE?","title":"OnlyOffice/Collabora"},{"location":"stockages-distribues/","text":"Stockages distribu\u00e9s \u00b6 Nextcloud \u00b6 NextCloud propose une fonctionnalit\u00e9 Stockage Externe (External Storage) qui permet d'acc\u00e9der et de partager des fichiers de diff\u00e9rentes sources. Parmis ces sources, on trouve m\u00eame Nextcloud, qui permet de connect\u00e9 un autre NextCloud \u00e0 un NextCloud central. Cette fonctionnalit\u00e9 a \u00e9t\u00e9 mise en place sur les environnements de test et fonctionne comme attendu. Si vous souhaitez permettre le partage sur le NextCloud externe, il faut param\u00e9trer l'authentification sur \"Identifiants de connexion, sauvegarder dans la base de donn\u00e9es\", et active l'option \"Permettre le partage\". L'utilisateur doit s'\u00eatre connect\u00e9 une premi\u00e8er fois sur l'autre serveur pour que cela fonctionne. Si vous ne souhaitez pas permettre le partage sur le NextCloud externe, il vaut mieux param\u00e9trer l'authentification sur \"Identifiants de connexion, sauvegard\u00e9s pour la session\". Ce mode ne n\u00e9cessite pas que l'utilisateur se soit connect\u00e9 une premi\u00e8re fois directement sur le NextCloud externe. Si certains acc\u00e8s sont anormalement lent, il peut-\u00eatre utile de d\u00e9sactiver la protection bruteforce via le fichier config.php . ` auth . bruteforce . protection . enabled ' => false Seafile \u00b6 Il n'y a pas de fonction \u00e9quivalente dans Seafile.","title":"Stockages distribu\u00e9s"},{"location":"stockages-distribues/#stockages-distribues","text":"","title":"Stockages distribu\u00e9s"},{"location":"stockages-distribues/#nextcloud","text":"NextCloud propose une fonctionnalit\u00e9 Stockage Externe (External Storage) qui permet d'acc\u00e9der et de partager des fichiers de diff\u00e9rentes sources. Parmis ces sources, on trouve m\u00eame Nextcloud, qui permet de connect\u00e9 un autre NextCloud \u00e0 un NextCloud central. Cette fonctionnalit\u00e9 a \u00e9t\u00e9 mise en place sur les environnements de test et fonctionne comme attendu. Si vous souhaitez permettre le partage sur le NextCloud externe, il faut param\u00e9trer l'authentification sur \"Identifiants de connexion, sauvegarder dans la base de donn\u00e9es\", et active l'option \"Permettre le partage\". L'utilisateur doit s'\u00eatre connect\u00e9 une premi\u00e8er fois sur l'autre serveur pour que cela fonctionne. Si vous ne souhaitez pas permettre le partage sur le NextCloud externe, il vaut mieux param\u00e9trer l'authentification sur \"Identifiants de connexion, sauvegard\u00e9s pour la session\". Ce mode ne n\u00e9cessite pas que l'utilisateur se soit connect\u00e9 une premi\u00e8re fois directement sur le NextCloud externe. Si certains acc\u00e8s sont anormalement lent, il peut-\u00eatre utile de d\u00e9sactiver la protection bruteforce via le fichier config.php . ` auth . bruteforce . protection . enabled ' => false","title":"Nextcloud"},{"location":"stockages-distribues/#seafile","text":"Il n'y a pas de fonction \u00e9quivalente dans Seafile.","title":"Seafile"},{"location":"synthese/","text":"Synth\u00e8se \u00b6 Cette page constitue une synth\u00e8se de l'ensemble des \u00e9tudes men\u00e9es. Chaque solution est \u00e9valu\u00e9e selon diff\u00e9rents crit\u00e8res pond\u00e9r\u00e9s par un coefficient indiquant son importance. Cela permet de d\u00e9gager une note globale pour chaque solution. L'analyse de chaque crit\u00e8re et d\u00e9taill\u00e9 dans une page d\u00e9di\u00e9e du document. Solutions de stockage \u00b6 Crit\u00e8re Coefficient NextCloud Seafile Commentaire LDAP 5 \u2605\u2605\u2605\u2605\u2605 \u2605\u2605\u2606\u2606\u2606 CAS 3 \u2605\u2605\u2605\u2605\u2605 \u2605\u2605\u2606\u2606\u2606 Th\u00e8mes 4 \u2605\u2605\u2605\u2605\u2606 \u2605\u2605\u2606\u2606\u2606 Extensions 4 \u2605\u2605\u2605\u2605\u2605 \u2605\u2605\u2606\u2606\u2606 API 2 \u2605\u2605\u2605\u2605\u2606 \u2605\u2605\u2605\u2605\u2605 Docker 3 \u2605\u2605\u2605\u2605\u2606 \u2605\u2605\u2606\u2606\u2606 P\u00e9r\u00e9nit\u00e9 4 \u2605\u2605\u2605\u2605\u2605 \u2605\u2605\u2606\u2606\u2606 Licenses 2 \u2605\u2605\u2605\u2606\u2606 \u2605\u2605\u2606\u2606\u2606 RGPD 2 \u2605\u2605\u2605\u2605\u2606 \u2605\u2605\u2606\u2606\u2606 Performances 5 \u2605\u2605\u2606\u2606\u2606 \u2605\u2605\u2605\u2605\u2606 Applications natives 2 \u2605\u2605\u2605\u2605\u2606 \u2605\u2605\u2605\u2605\u2606 UX 3 \u2605\u2605\u2605\u2605\u2606 \u2605\u2605\u2605\u2606\u2606 Antivirus 4 \u2605\u2605\u2605\u2605\u2605 \u2605\u2606\u2606\u2606\u2606 Sauvegarde 3 \u2605\u2605\u2605\u2605\u2605 \u2605\u2605\u2605\u2605\u2606 Stockages distribu\u00e9s 2 \u2605\u2605\u2605\u2605\u2606 \u2605\u2605\u2606\u2606\u2606 Total \u2605\u2605\u2605\u2605\u2606 \u2605\u2605\u2606\u2606\u2606 Solutions d'\u00e9dition \u00b6 Crit\u00e8re Coefficient OnlyOffice Collabora Commentaire Docker 3 \u2605\u2605\u2605\u2605\u2606 \u2605\u2605\u2606\u2606\u2606 P\u00e9r\u00e9nit\u00e9 4 \u2605\u2605\u2605\u2606\u2606 \u2605\u2605\u2605\u2606\u2606 Licenses 2 \u2605\u2605\u2605\u2606\u2606 \u2605\u2605\u2605\u2606\u2606 Performances 5 \u2605\u2605\u2605\u2605\u2606 \u2605\u2605\u2606\u2606\u2606 Applications natives 2 \u2605\u2605\u2605\u2605\u2606 \u2605\u2605\u2605\u2605\u2606 UX 3 \u2605\u2605\u2605\u2606\u2606 \u2605\u2605\u2606\u2606\u2606 Compatibilit\u00e9 Microsoft Office 2 \u2605\u2605\u2605\u2605\u2606 \u2605\u2605\u2606\u2606\u2606 Compatibilit\u00e9 LibreOffice 2 \u2605\u2605\u2606\u2606\u2606 \u2605\u2605\u2605\u2605\u2606 Total \u2605\u2605\u2605\u2606\u2606 \u2605\u2605\u2606\u2606\u2606","title":"Synth\u00e8se"},{"location":"synthese/#synthese","text":"Cette page constitue une synth\u00e8se de l'ensemble des \u00e9tudes men\u00e9es. Chaque solution est \u00e9valu\u00e9e selon diff\u00e9rents crit\u00e8res pond\u00e9r\u00e9s par un coefficient indiquant son importance. Cela permet de d\u00e9gager une note globale pour chaque solution. L'analyse de chaque crit\u00e8re et d\u00e9taill\u00e9 dans une page d\u00e9di\u00e9e du document.","title":"Synth\u00e8se"},{"location":"synthese/#solutions-de-stockage","text":"Crit\u00e8re Coefficient NextCloud Seafile Commentaire LDAP 5 \u2605\u2605\u2605\u2605\u2605 \u2605\u2605\u2606\u2606\u2606 CAS 3 \u2605\u2605\u2605\u2605\u2605 \u2605\u2605\u2606\u2606\u2606 Th\u00e8mes 4 \u2605\u2605\u2605\u2605\u2606 \u2605\u2605\u2606\u2606\u2606 Extensions 4 \u2605\u2605\u2605\u2605\u2605 \u2605\u2605\u2606\u2606\u2606 API 2 \u2605\u2605\u2605\u2605\u2606 \u2605\u2605\u2605\u2605\u2605 Docker 3 \u2605\u2605\u2605\u2605\u2606 \u2605\u2605\u2606\u2606\u2606 P\u00e9r\u00e9nit\u00e9 4 \u2605\u2605\u2605\u2605\u2605 \u2605\u2605\u2606\u2606\u2606 Licenses 2 \u2605\u2605\u2605\u2606\u2606 \u2605\u2605\u2606\u2606\u2606 RGPD 2 \u2605\u2605\u2605\u2605\u2606 \u2605\u2605\u2606\u2606\u2606 Performances 5 \u2605\u2605\u2606\u2606\u2606 \u2605\u2605\u2605\u2605\u2606 Applications natives 2 \u2605\u2605\u2605\u2605\u2606 \u2605\u2605\u2605\u2605\u2606 UX 3 \u2605\u2605\u2605\u2605\u2606 \u2605\u2605\u2605\u2606\u2606 Antivirus 4 \u2605\u2605\u2605\u2605\u2605 \u2605\u2606\u2606\u2606\u2606 Sauvegarde 3 \u2605\u2605\u2605\u2605\u2605 \u2605\u2605\u2605\u2605\u2606 Stockages distribu\u00e9s 2 \u2605\u2605\u2605\u2605\u2606 \u2605\u2605\u2606\u2606\u2606 Total \u2605\u2605\u2605\u2605\u2606 \u2605\u2605\u2606\u2606\u2606","title":"Solutions de stockage"},{"location":"synthese/#solutions-dedition","text":"Crit\u00e8re Coefficient OnlyOffice Collabora Commentaire Docker 3 \u2605\u2605\u2605\u2605\u2606 \u2605\u2605\u2606\u2606\u2606 P\u00e9r\u00e9nit\u00e9 4 \u2605\u2605\u2605\u2606\u2606 \u2605\u2605\u2605\u2606\u2606 Licenses 2 \u2605\u2605\u2605\u2606\u2606 \u2605\u2605\u2605\u2606\u2606 Performances 5 \u2605\u2605\u2605\u2605\u2606 \u2605\u2605\u2606\u2606\u2606 Applications natives 2 \u2605\u2605\u2605\u2605\u2606 \u2605\u2605\u2605\u2605\u2606 UX 3 \u2605\u2605\u2605\u2606\u2606 \u2605\u2605\u2606\u2606\u2606 Compatibilit\u00e9 Microsoft Office 2 \u2605\u2605\u2605\u2605\u2606 \u2605\u2605\u2606\u2606\u2606 Compatibilit\u00e9 LibreOffice 2 \u2605\u2605\u2606\u2606\u2606 \u2605\u2605\u2605\u2605\u2606 Total \u2605\u2605\u2605\u2606\u2606 \u2605\u2605\u2606\u2606\u2606","title":"Solutions d'\u00e9dition"},{"location":"themes/","text":"Th\u00e8mes \u00b6 NextCloud et Seafile supportent tous les deux des points d'entr\u00e9e pour impl\u00e9menter un th\u00e8me graphique sur l'application. Les solutions d'\u00e9dition ne sont pas personnalisables. NextCloud \u00b6 NextCloud impl\u00e9mente deux notions qui impactent l'apparence de l'application: L'application theming , qui permet de personnaliser le th\u00e8me sans \u00e9crire de code (IHM). Les th\u00e8mes, pr\u00e9sents dans nextcloud/themes , qui permettent de modifier l'apparence et le comportement de Nextcloud en profondeur. Pour activer les th\u00e8mes, il est n\u00e9cessaire de d\u00e9sactiver l'application theming ( occ app:disable theming ). Les th\u00e8mes int\u00e8grent la possibilit\u00e9 de personnaliser: CSS JavaScript Images Libell\u00e9 Templates HTML et PHP Il est donc possible dans NextCloud de modifier n'importe quelle partie de l'application via le th\u00e8me. Voir Theming Nextcloud Seafile \u00b6 Seafile lui propose la personnalisation de certains \u00e9l\u00e9ments uniquement via quelques variables de configuration Logo Favicon CSS suppl\u00e9mentaire Page d'aide Il n'est pas possible de modifier les templates de pages, ce qui peut limiter les possibilit\u00e9s de personnalisation. Voir Seahub customization . Personnalisation du th\u00e8me en fonction de domaine d'acc\u00e8s \u00b6 Sur ce point, aucune solution ne couvre directement le besoin. Pour Nextcloud, il n'est possible de le g\u00e9rer l'activation d'un th\u00e8me sp\u00e9cifique par VirtualHost, car le th\u00e8me NextCloud effectif est construit par PHP qui acc\u00e8de directement aux fichiers sources du th\u00e8me. Il a donc \u00e9t\u00e9 n\u00e9cessaire de cr\u00e9er un patch afin d'ajouter le support d'un tableau associatif dans la valeur de la configuration syst\u00e8me theme. Ce tableau permet d'activer un th\u00e8me en fonction d'une expression r\u00e9guli\u00e8re \u00e9valu\u00e9e sur la valeur du header Host . --- a/lib/private/legacy/util.php +++ b/lib/private/legacy/util.php @@ -1321,6 +1321,29 @@ */ public static function getTheme() { $theme = \\OC::$server->getSystemConfig()->getValue(\"theme\", ''); + if (is_array($theme)) { + $host = $_SERVER['HTTP_HOST']; + + $themeFound = false; + $themeArray = $theme; + foreach (array_keys($themeArray) as $key) { + if (array_key_exists($key, $host)) { + $theme = $themeArray[$key]; + $themeFound = true; + break; + } + } + + if (!$themeFound) { + foreach (array_keys($themeArray) as $key) { + if (preg_match($key, $host)) { + $theme = $themeArray[$key]; + break; + } + } + } + + } if ($theme === '') { if (is_dir(OC::$SERVERROOT . '/themes/default')) { Ce patch permet ainsi de configurer le th\u00e8me en fonction du nom de domaine d'acc\u00e8s dans le fichier config.php . 'theme' => [ '/.*\\\\.1d\\\\..*/' => '1d' , '/.*\\\\.2d\\\\..*/' => '2d' ],","title":"Th\u00e8mes"},{"location":"themes/#themes","text":"NextCloud et Seafile supportent tous les deux des points d'entr\u00e9e pour impl\u00e9menter un th\u00e8me graphique sur l'application. Les solutions d'\u00e9dition ne sont pas personnalisables.","title":"Th\u00e8mes"},{"location":"themes/#nextcloud","text":"NextCloud impl\u00e9mente deux notions qui impactent l'apparence de l'application: L'application theming , qui permet de personnaliser le th\u00e8me sans \u00e9crire de code (IHM). Les th\u00e8mes, pr\u00e9sents dans nextcloud/themes , qui permettent de modifier l'apparence et le comportement de Nextcloud en profondeur. Pour activer les th\u00e8mes, il est n\u00e9cessaire de d\u00e9sactiver l'application theming ( occ app:disable theming ). Les th\u00e8mes int\u00e8grent la possibilit\u00e9 de personnaliser: CSS JavaScript Images Libell\u00e9 Templates HTML et PHP Il est donc possible dans NextCloud de modifier n'importe quelle partie de l'application via le th\u00e8me. Voir Theming Nextcloud","title":"NextCloud"},{"location":"themes/#seafile","text":"Seafile lui propose la personnalisation de certains \u00e9l\u00e9ments uniquement via quelques variables de configuration Logo Favicon CSS suppl\u00e9mentaire Page d'aide Il n'est pas possible de modifier les templates de pages, ce qui peut limiter les possibilit\u00e9s de personnalisation. Voir Seahub customization .","title":"Seafile"},{"location":"themes/#personnalisation-du-theme-en-fonction-de-domaine-dacces","text":"Sur ce point, aucune solution ne couvre directement le besoin. Pour Nextcloud, il n'est possible de le g\u00e9rer l'activation d'un th\u00e8me sp\u00e9cifique par VirtualHost, car le th\u00e8me NextCloud effectif est construit par PHP qui acc\u00e8de directement aux fichiers sources du th\u00e8me. Il a donc \u00e9t\u00e9 n\u00e9cessaire de cr\u00e9er un patch afin d'ajouter le support d'un tableau associatif dans la valeur de la configuration syst\u00e8me theme. Ce tableau permet d'activer un th\u00e8me en fonction d'une expression r\u00e9guli\u00e8re \u00e9valu\u00e9e sur la valeur du header Host . --- a/lib/private/legacy/util.php +++ b/lib/private/legacy/util.php @@ -1321,6 +1321,29 @@ */ public static function getTheme() { $theme = \\OC::$server->getSystemConfig()->getValue(\"theme\", ''); + if (is_array($theme)) { + $host = $_SERVER['HTTP_HOST']; + + $themeFound = false; + $themeArray = $theme; + foreach (array_keys($themeArray) as $key) { + if (array_key_exists($key, $host)) { + $theme = $themeArray[$key]; + $themeFound = true; + break; + } + } + + if (!$themeFound) { + foreach (array_keys($themeArray) as $key) { + if (preg_match($key, $host)) { + $theme = $themeArray[$key]; + break; + } + } + } + + } if ($theme === '') { if (is_dir(OC::$SERVERROOT . '/themes/default')) { Ce patch permet ainsi de configurer le th\u00e8me en fonction du nom de domaine d'acc\u00e8s dans le fichier config.php . 'theme' => [ '/.*\\\\.1d\\\\..*/' => '1d' , '/.*\\\\.2d\\\\..*/' => '2d' ],","title":"Personnalisation du th\u00e8me en fonction de domaine d'acc\u00e8s"},{"location":"ux/","text":"UX \u00b6 Solutions de stockage \u00b6 NextCloud int\u00e8gre plus de fonctionnalit\u00e9s de Seafile et peut \u00eatre \u00e9tendu par des Apps. ### Partage La cr\u00e9ation d'un partage avec un utilisateur ou un groupe est plus intuitive dans NextCloud. Il n'est pas possible de partager directement un fichier avec SeaFile, seul un dossier peut-\u00eatre partag\u00e9. L'interface pour choisir les autorisations d'acc\u00e8s est mieux con\u00e7ue dans NextCloud. Solutions d'\u00e9dition \u00b6 Collabora est bas\u00e9 sur du rendu serveur de document LibreOffice, ce qui peut laisser \u00e0 penser que l'\u00e9dition collaborative de document sera plus efficace que OnlyOffice, qui doit en permanence transmettre les modifications entre les diff\u00e9rents participants. Pourtant, un certain nombre de points rends OnlyOffice plus agr\u00e9able \u00e0 l'utilisation, m\u00eame dans le cas d'utilisation de l'\u00e9dition simultan\u00e9e. ### Tchat Une fonctionnalit\u00e9 de Tchat est pr\u00e9sente dans OnlyOffice, ce qui n'est pas le cas de Collabora. ### Bouton droit Dans OnlyOffice, un grand nombre de fonctionnalit\u00e9s sont accessibles sur le bouton droit. Avec Collabora, c'est le cas sous certaines conditions, mais il s'affiche parfois un menu g\u00e9n\u00e9rique qui peut-\u00eatre troublant pour l'utilisateur. De plus, le menu de Collabora bug parfois en affichant des barres de scroll. ### Commentaires Les deux solutions offrent le support des commentaires. Cependant, le travail simultan\u00e9 avec des commentaires dans Collabora provoque des conflits \u00e0 mesure que chaque utilisateur reprend le focus et le curseur. Les modifications apport\u00e9es \u00e0 la fen\u00eatre de commentaires d\u00e9filent vers le haut et le curseur dispara\u00eet. ### R\u00e9vision et suivi des modifications Les deux solutions supportent cette fonctionnalit\u00e9s, mais avec quelques diff\u00e9rences. Dans OnlyOffice, il existe une fonctionnalit\u00e9 \"Aper\u00e7u dans la r\u00e9vision\" pour voir \u00e0 quoi ressemble le document avec toutes les modifications sugg\u00e9r\u00e9es accept\u00e9es ou rejet\u00e9es. ### Param\u00e8tres individuels en \u00e9dition collaborative Avec Collabora, vous devez \u00eatre pr\u00eat \u00e0 perdre vos pr\u00e9f\u00e9rences et param\u00e8tres individuels car si votre co-auteur active le suivi des modifications, les caract\u00e8res non imprimables ou la v\u00e9rification orthographique, ils seront \u00e9galement activ\u00e9s pour vous. A l'inverse, OnlyOffice conserve les pr\u00e9f\u00e9rence de chaque utilisateur. Vous pouvez choisir de voir les caract\u00e8res non imprimables et de v\u00e9rifier votre orthographe, ainsi que de suivre les modifications, sans que ce soit le cas pour le co-auteur. ### OOXML OOXML est le format de base utilis\u00e9 par OnlyOffice, ce qui garantit une excellente compatibilit\u00e9 avec les fichiers Microsoft Office (.docx,.xlsx,.xlsx,.pptx). Sur ce sujet, Collabora obtiendra un rendu \u00e9quivalent \u00e0 une ouverture dans LibreOffice Desktop.","title":"UX"},{"location":"ux/#ux","text":"","title":"UX"},{"location":"ux/#solutions-de-stockage","text":"NextCloud int\u00e8gre plus de fonctionnalit\u00e9s de Seafile et peut \u00eatre \u00e9tendu par des Apps. ### Partage La cr\u00e9ation d'un partage avec un utilisateur ou un groupe est plus intuitive dans NextCloud. Il n'est pas possible de partager directement un fichier avec SeaFile, seul un dossier peut-\u00eatre partag\u00e9. L'interface pour choisir les autorisations d'acc\u00e8s est mieux con\u00e7ue dans NextCloud.","title":"Solutions de stockage"},{"location":"ux/#solutions-dedition","text":"Collabora est bas\u00e9 sur du rendu serveur de document LibreOffice, ce qui peut laisser \u00e0 penser que l'\u00e9dition collaborative de document sera plus efficace que OnlyOffice, qui doit en permanence transmettre les modifications entre les diff\u00e9rents participants. Pourtant, un certain nombre de points rends OnlyOffice plus agr\u00e9able \u00e0 l'utilisation, m\u00eame dans le cas d'utilisation de l'\u00e9dition simultan\u00e9e. ### Tchat Une fonctionnalit\u00e9 de Tchat est pr\u00e9sente dans OnlyOffice, ce qui n'est pas le cas de Collabora. ### Bouton droit Dans OnlyOffice, un grand nombre de fonctionnalit\u00e9s sont accessibles sur le bouton droit. Avec Collabora, c'est le cas sous certaines conditions, mais il s'affiche parfois un menu g\u00e9n\u00e9rique qui peut-\u00eatre troublant pour l'utilisateur. De plus, le menu de Collabora bug parfois en affichant des barres de scroll. ### Commentaires Les deux solutions offrent le support des commentaires. Cependant, le travail simultan\u00e9 avec des commentaires dans Collabora provoque des conflits \u00e0 mesure que chaque utilisateur reprend le focus et le curseur. Les modifications apport\u00e9es \u00e0 la fen\u00eatre de commentaires d\u00e9filent vers le haut et le curseur dispara\u00eet. ### R\u00e9vision et suivi des modifications Les deux solutions supportent cette fonctionnalit\u00e9s, mais avec quelques diff\u00e9rences. Dans OnlyOffice, il existe une fonctionnalit\u00e9 \"Aper\u00e7u dans la r\u00e9vision\" pour voir \u00e0 quoi ressemble le document avec toutes les modifications sugg\u00e9r\u00e9es accept\u00e9es ou rejet\u00e9es. ### Param\u00e8tres individuels en \u00e9dition collaborative Avec Collabora, vous devez \u00eatre pr\u00eat \u00e0 perdre vos pr\u00e9f\u00e9rences et param\u00e8tres individuels car si votre co-auteur active le suivi des modifications, les caract\u00e8res non imprimables ou la v\u00e9rification orthographique, ils seront \u00e9galement activ\u00e9s pour vous. A l'inverse, OnlyOffice conserve les pr\u00e9f\u00e9rence de chaque utilisateur. Vous pouvez choisir de voir les caract\u00e8res non imprimables et de v\u00e9rifier votre orthographe, ainsi que de suivre les modifications, sans que ce soit le cas pour le co-auteur. ### OOXML OOXML est le format de base utilis\u00e9 par OnlyOffice, ce qui garantit une excellente compatibilit\u00e9 avec les fichiers Microsoft Office (.docx,.xlsx,.xlsx,.pptx). Sur ce sujet, Collabora obtiendra un rendu \u00e9quivalent \u00e0 une ouverture dans LibreOffice Desktop.","title":"Solutions d'\u00e9dition"}]}